const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-zzFyhS3F.js","assets/index-D6vaUI3m.css"])))=>i.map(i=>d[i]);
import{c as F,R as b,r as T,U as me,j as e,a as V,s as ue,_ as Re,T as Le,b as Me}from"./index-zzFyhS3F.js";import{m as ee,K as _}from"./KPICard-QHlU6-cb.js";import{C as Ne}from"./clock-Dx-ajNhx.js";import{i as qe,c as pe,D as ze,x as $e,I as Ke,h as re,f as X,m as We,A as Ue,r as B,s as Ge,n as ne,J as Be,u as Ye,o as Ee,v as Ve,G as He,K as xe,F as Qe,X as ce,Y as de,M as Ze,R as ke,T as we,L as Ae,N as Xe,B as Je,a as se}from"./BarChart-BMm4yCV-.js";import{C as De}from"./CartesianGrid-D4_rAjME.js";import{T as et}from"./target-BhVYZTZ2.js";import{C as tt}from"./check-circle-D7FyQisT.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=F("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=F("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=F("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var lt=["type","layout","connectNulls","ref"],ot=["key"];function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},q(t)}function he(t,s){if(t==null)return{};var i=ct(t,s),a,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function ct(t,s){if(t==null)return{};var i={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;i[a]=t[a]}return i}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Y.apply(this,arguments)}function ge(t,s){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,a)}return i}function S(t){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?ge(Object(i),!0).forEach(function(a){D(t,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ge(Object(i)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(i,a))})}return t}function M(t){return pt(t)||ut(t)||mt(t)||dt()}function dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(t,s){if(t){if(typeof t=="string")return le(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return le(t,s)}}function ut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pt(t){if(Array.isArray(t))return le(t)}function le(t,s){(s==null||s>t.length)&&(s=t.length);for(var i=0,a=new Array(s);i<s;i++)a[i]=t[i];return a}function xt(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function ye(t,s){for(var i=0;i<s.length;i++){var a=s[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,_e(a.key),a)}}function ht(t,s,i){return s&&ye(t.prototype,s),i&&ye(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function gt(t,s,i){return s=J(s),yt(t,Pe()?Reflect.construct(s,i||[],J(t).constructor):s.apply(t,i))}function yt(t,s){if(s&&(q(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vt(t)}function vt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pe=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},J(t)}function bt(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&oe(t,s)}function oe(t,s){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},oe(t,s)}function D(t,s,i){return s=_e(s),s in t?Object.defineProperty(t,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[s]=i,t}function _e(t){var s=ft(t,"string");return q(s)=="symbol"?s:s+""}function ft(t,s){if(q(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,s);if(q(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H=function(t){function s(){var i;xt(this,s);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return i=gt(this,s,[].concat(n)),D(i,"state",{isAnimationFinished:!0,totalLength:0}),D(i,"generateSimpleStrokeDasharray",function(r,o){return"".concat(o,"px ").concat(r-o,"px")}),D(i,"getStrokeDasharray",function(r,o,d){var c=d.reduce(function(v,w){return v+w});if(!c)return i.generateSimpleStrokeDasharray(o,r);for(var x=Math.floor(r/c),u=r%c,p=o-r,h=[],m=0,g=0;m<d.length;g+=d[m],++m)if(g+d[m]>u){h=[].concat(M(d.slice(0,m)),[u-g]);break}var y=h.length%2===0?[0,p]:[p];return[].concat(M(s.repeat(d,x)),M(h),y).map(function(v){return"".concat(v,"px")}).join(", ")}),D(i,"id",Ve("recharts-line-")),D(i,"pathRef",function(r){i.mainCurve=r}),D(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0}),i.props.onAnimationEnd&&i.props.onAnimationEnd()}),D(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1}),i.props.onAnimationStart&&i.props.onAnimationStart()}),i}return bt(s,t),ht(s,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,r=l.points,o=l.xAxis,d=l.yAxis,c=l.layout,x=l.children,u=$e(x,Ke);if(!u)return null;var p=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Ee(g.payload,y)}},h={clipPath:a?"url(#clipPath-".concat(n,")"):null};return b.createElement(re,h,u.map(function(m){return b.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:r,xAxis:o,yAxis:d,layout:c,dataPointFormatter:p})}))}},{key:"renderDots",value:function(a,n,l){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var o=this.props,d=o.dot,c=o.points,x=o.dataKey,u=X(this.props,!1),p=X(d,!0),h=c.map(function(g,y){var v=S(S(S({key:"dot-".concat(y),r:3},u),p),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:x,payload:g.payload,points:c});return s.renderDotItem(d,v)}),m={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(l,")"):null};return b.createElement(re,Y({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(a,n,l,r){var o=this.props,d=o.type,c=o.layout,x=o.connectNulls;o.ref;var u=he(o,lt),p=S(S(S({},X(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(l,")"):null,points:a},r),{},{type:d,layout:c,connectNulls:x});return b.createElement(We,Y({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,n){var l=this,r=this.props,o=r.points,d=r.strokeDasharray,c=r.isAnimationActive,x=r.animationBegin,u=r.animationDuration,p=r.animationEasing,h=r.animationId,m=r.animateNewValues,g=r.width,y=r.height,v=this.state,w=v.prevPoints,z=v.totalLength;return b.createElement(Ue,{begin:x,duration:u,isActive:c,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var C=R.t;if(w){var $=w.length/o.length,O=o.map(function(j,ae){var U=Math.floor(ae*$);if(w[U]){var G=w[U],L=B(G.x,j.x),Ie=B(G.y,j.y);return S(S({},j),{},{x:L(C),y:Ie(C)})}if(m){var Oe=B(g*2,j.x),Fe=B(y/2,j.y);return S(S({},j),{},{x:Oe(C),y:Fe(C)})}return S(S({},j),{},{x:j.x,y:j.y})});return l.renderCurveStatically(O,a,n)}var Q=B(0,z),K=Q(C),W;if(d){var Z="".concat(d).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});W=l.getStrokeDasharray(K,z,Z)}else W=l.generateSimpleStrokeDasharray(z,K);return l.renderCurveStatically(o,a,n,{strokeDasharray:W})})}},{key:"renderCurve",value:function(a,n){var l=this.props,r=l.points,o=l.isAnimationActive,d=this.state,c=d.prevPoints,x=d.totalLength;return o&&r&&r.length&&(!c&&x>0||!Ge(c,r))?this.renderCurveWithAnimation(a,n):this.renderCurveStatically(r,a,n)}},{key:"render",value:function(){var a,n=this.props,l=n.hide,r=n.dot,o=n.points,d=n.className,c=n.xAxis,x=n.yAxis,u=n.top,p=n.left,h=n.width,m=n.height,g=n.isAnimationActive,y=n.id;if(l||!o||!o.length)return null;var v=this.state.isAnimationFinished,w=o.length===1,z=pe("recharts-line",d),R=c&&c.allowDataOverflow,C=x&&x.allowDataOverflow,$=R||C,O=ne(y)?this.id:y,Q=(a=X(r,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},K=Q.r,W=K===void 0?3:K,Z=Q.strokeWidth,j=Z===void 0?2:Z,ae=Be(r)?r:{},U=ae.clipDot,G=U===void 0?!0:U,L=W*2+j;return b.createElement(re,{className:z},R||C?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(O)},b.createElement("rect",{x:R?p:p-h/2,y:C?u:u-m/2,width:R?h:h*2,height:C?m:m*2})),!G&&b.createElement("clipPath",{id:"clipPath-dots-".concat(O)},b.createElement("rect",{x:p-L/2,y:u-L/2,width:h+L,height:m+L}))):null,!w&&this.renderCurve($,O),this.renderErrorBar($,O),(w||r)&&this.renderDots($,G,O),(!g||v)&&Ye.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,n){for(var l=a.length%2!==0?[].concat(M(a),[0]):a,r=[],o=0;o<n;++o)r=[].concat(M(r),M(l));return r}},{key:"renderDotItem",value:function(a,n){var l;if(b.isValidElement(a))l=b.cloneElement(a,n);else if(qe(a))l=a(n);else{var r=n.key,o=he(n,ot),d=pe("recharts-line-dot",typeof a!="boolean"?a.className:"");l=b.createElement(ze,Y({key:r},o,{className:d}))}return l}}])}(T.PureComponent);D(H,"displayName","Line");D(H,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!He.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});D(H,"getComposedData",function(t){var s=t.props,i=t.xAxis,a=t.yAxis,n=t.xAxisTicks,l=t.yAxisTicks,r=t.dataKey,o=t.bandSize,d=t.displayedData,c=t.offset,x=s.layout,u=d.map(function(p,h){var m=Ee(p,r);return x==="horizontal"?{x:xe({axis:i,ticks:n,bandSize:o,entry:p,index:h}),y:ne(m)?null:a.scale(m),value:m,payload:p}:{x:ne(m)?null:i.scale(m),y:xe({axis:a,ticks:l,bandSize:o,entry:p,index:h}),value:m,payload:p}});return S({points:u,layout:x},c)});var jt=Qe({chartName:"LineChart",GraphicalChild:H,axisComponents:[{axisType:"xAxis",AxisComp:ce},{axisType:"yAxis",AxisComp:de}],formatAxisMap:Ze});const ie={CYCLE_TIME:.4,DEPLOY_FREQUENCY:.3,PR_SIZE:.3},N={ELITE:{max:48,score:100},GOOD:{min:48,max:72,score:85},FAIR:{min:73,max:96,score:70},NEEDS_FOCUS:{min:97,max:120,score:50},POOR:{score:25}},I={CODING_TIME:{target:4,alert:8},PICKUP_TIME:{target:4,alert:16},REVIEW_TIME:{target:14,alert:24},DEPLOY_TIME:{target:24,alert:48}},E={ELITE:{min:1.5,score:100},GOOD:{min:.8,max:1.5,score:85},FAIR:{min:.5,max:.8,score:70},NEEDS_FOCUS:{min:.2,max:.5,score:50},POOR:{score:25}},P={ELITE:{min:85,max:100,label:"Elite",color:"emerald"},GOOD:{min:75,max:84,label:"Good",color:"blue"},FAIR:{min:60,max:74,label:"Fair",color:"amber"},POOR:{min:0,max:59,label:"Poor",color:"rose"}},f={DELIVERY_SUCCESS:75,DEVELOPMENT_QUALITY:80,TEAM_HEALTH:70,CHANGE_FAILURE_RATE:4,PLANNING_ACCURACY:{min:65,max:80},NET_BUG_FLOW:1},St=({cycleTimeData:t})=>{if(!t||!t.breakdown)return null;const{breakdown:s,hours:i}=t,a=[{id:"coding",label:"Coding Time",icon:Te,value:s.codingTime,target:I.CODING_TIME.target,alert:I.CODING_TIME.alert,description:"Tiempo escribiendo código",color:"amber"},{id:"pickup",label:"Pickup Time",icon:me,value:s.pickupTime,target:I.PICKUP_TIME.target,alert:I.PICKUP_TIME.alert,description:"Tiempo esperando revisión",color:"rose"},{id:"review",label:"Review Time",icon:me,value:s.reviewTime,target:I.REVIEW_TIME.target,alert:I.REVIEW_TIME.alert,description:"Tiempo de discusión y aprobación",color:"blue"},{id:"deploy",label:"Deploy Time",icon:Ce,value:s.deployTime,target:I.DEPLOY_TIME.target,alert:I.DEPLOY_TIME.alert,description:"Merge → Disponible en producción",color:"emerald"}],n=r=>r.value<=r.target?{status:"good",color:"emerald"}:r.value<=r.alert?{status:"warning",color:"amber"}:{status:"critical",color:"rose"},l=a.reduce((r,o)=>r+o.value,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Cycle Time Breakdown"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["Total: ",e.jsxs("span",{className:"text-white font-semibold",children:[i.toFixed(1),"h"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx(Ne,{size:20}),e.jsx("span",{className:"text-sm",children:"4 Fases del Ciclo"})]})]}),e.jsx("div",{className:"glass rounded-xl p-6 border border-slate-700/50",children:e.jsx("div",{className:"flex items-center justify-between gap-4 overflow-x-auto pb-4",children:a.map((r,o)=>{const d=r.icon,c=n(r);r.value/l*100;const x=o===a.length-1;return e.jsxs(b.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center min-w-[120px]",children:[e.jsx("div",{className:`p-4 rounded-xl mb-3 ${c.status==="good"?"bg-emerald-500/20 border border-emerald-500/30":c.status==="warning"?"bg-amber-500/20 border border-amber-500/30":"bg-rose-500/20 border border-rose-500/30"}`,children:e.jsx(d,{className:c.status==="good"?"text-emerald-400":c.status==="warning"?"text-amber-400":"text-rose-400",size:24})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:r.label}),e.jsxs("p",{className:`text-lg font-bold ${c.status==="good"?"text-emerald-400":c.status==="warning"?"text-amber-400":"text-rose-400"}`,children:[r.value.toFixed(1),"h"]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Target: ",r.target,"h"]}),r.value>r.alert&&e.jsxs("div",{className:"flex items-center gap-1 mt-1 text-rose-400 text-xs",children:[e.jsx(V,{size:12}),e.jsx("span",{children:"Alerta"})]})]})]}),!x&&e.jsx("div",{className:"flex-1 h-0.5 bg-gradient-to-r from-slate-700 to-slate-700 mt-8 min-w-[40px]",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500/50 to-blue-500/50"})})]},r.id)})})}),e.jsx("div",{className:"space-y-4",children:a.map(r=>{const o=r.icon,d=n(r),c=Math.min(r.value/r.alert*100,100);return e.jsxs("div",{className:"glass rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:d.status==="good"?"text-emerald-400":d.status==="warning"?"text-amber-400":"text-rose-400",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:r.label}),e.jsx("p",{className:"text-xs text-slate-400",children:r.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${d.status==="good"?"text-emerald-400":d.status==="warning"?"text-amber-400":"text-rose-400"}`,children:[r.value.toFixed(1),"h"]}),e.jsxs("p",{className:"text-xs text-slate-400",children:["Target: ",r.target,"h"]})]})]}),e.jsxs("div",{className:"relative h-3 bg-slate-800 rounded-full overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-slate-500 z-10",style:{left:`${r.target/r.alert*100}%`},children:e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-slate-400",children:"Target"})}),e.jsx(ee.div,{initial:{width:0},animate:{width:`${c}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${d.status==="good"?"bg-emerald-500":d.status==="warning"?"bg-amber-500":"bg-rose-500"}`})]}),r.value>r.alert&&e.jsx("div",{className:"mt-3 p-2 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(V,{className:"text-rose-400 mt-0.5",size:16}),e.jsxs("div",{className:"text-xs text-rose-300",children:[r.id==="coding"&&"PR demasiado grande. Máximo recomendado: 200 líneas por PR.",r.id==="pickup"&&"Problema de colaboración. Implementar alertas Slack + revisores dedicados.",r.id==="review"&&"PRs muy complejos o pocos revisores. Simplificar PRs o aumentar revisores.",r.id==="deploy"&&"Pipeline lento o problemas CI/CD. Revisar y optimizar pipeline."]})]})})]},r.id)})}),a.some(r=>r.value>r.alert)&&e.jsxs("div",{className:"glass rounded-xl p-4 border border-amber-500/30 bg-amber-500/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Acciones Correctivas Sugeridas"}),e.jsx("ul",{className:"text-xs text-slate-300 space-y-1",children:a.filter(r=>r.value>r.alert).map(r=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-400",children:"•"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[r.label,":"]})," ",r.value.toFixed(1),"h excede el límite de ",r.alert,"h"]})]},r.id))})]})]})},Nt=({trends:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"glass rounded-xl p-8 border border-slate-700/50 text-center",children:e.jsx("p",{className:"text-slate-400",children:"No hay datos disponibles"})});const s=t.map((i,a)=>({week:i.week,deliveryScore:i.deliveryScore,cycleTime:i.cycleTime,deployFreq:i.deployFreq,prSize:i.prSize}));return e.jsxs("div",{className:"glass rounded-xl p-6 border border-slate-700/50",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"Evolución del Delivery Success Score"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Tendencia de las últimas 8 semanas"})]}),e.jsx(ke,{width:"100%",height:300,children:e.jsxs(jt,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(ce,{dataKey:"week",stroke:"#94a3b8",style:{fontSize:"12px"}}),e.jsx(de,{stroke:"#94a3b8",domain:[0,100],style:{fontSize:"12px"}}),e.jsx(we,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#f1f5f9"}}),e.jsx(Ae,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),e.jsx(Xe,{y:f.DELIVERY_SUCCESS,stroke:"#10b981",strokeDasharray:"5 5",label:{value:"Target Q1 2026",position:"right",fill:"#10b981",fontSize:12}}),e.jsx(H,{type:"monotone",dataKey:"deliveryScore",stroke:"#06b6d4",strokeWidth:3,dot:{fill:"#06b6d4",r:5},activeDot:{r:7},name:"Delivery Success Score"})]})})]})},Et=({trends:t})=>{if(!t||t.length===0)return e.jsx("div",{className:"glass rounded-xl p-8 border border-slate-700/50 text-center",children:e.jsx("p",{className:"text-slate-400",children:"No hay datos disponibles"})});const s=t.map(i=>({week:i.week,"Cycle Time":i.cycleTime,"Deploy Frequency":i.deployFreq,"PR Size":i.prSize}));return e.jsxs("div",{className:"glass rounded-xl p-6 border border-slate-700/50",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"Breakdown de Métricas Componentes"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Evolución de Cycle Time, Deploy Frequency y PR Size"})]}),e.jsx(ke,{width:"100%",height:300,children:e.jsxs(Je,{data:s,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(De,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(ce,{dataKey:"week",stroke:"#94a3b8",style:{fontSize:"12px"}}),e.jsx(de,{stroke:"#94a3b8",domain:[0,100],style:{fontSize:"12px"}}),e.jsx(we,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#f1f5f9"}}),e.jsx(Ae,{wrapperStyle:{paddingTop:"20px"}}),e.jsx(se,{dataKey:"Cycle Time",fill:"#f59e0b",radius:[4,4,0,0]}),e.jsx(se,{dataKey:"Deploy Frequency",fill:"#06b6d4",radius:[4,4,0,0]}),e.jsx(se,{dataKey:"PR Size",fill:"#8b5cf6",radius:[4,4,0,0]})]})})]})},A={deliverySuccessScore:78,cycleTime:{hours:68,score:85,breakdown:{codingTime:3.5,pickupTime:3.2,reviewTime:12.5,deployTime:18.8}},deployFrequency:{deploysPerDay:1.2,score:85,totalDeploys:24,workingDays:20},prSize:{averageLines:125,score:85,totalPRs:45,distribution:[{range:"50-100",count:12},{range:"100-155",count:20},{range:"155-228",count:10},{range:"228+",count:3}]},trends:[{week:"Wk 1",deliveryScore:72,cycleTime:85,deployFreq:80,prSize:75},{week:"Wk 2",deliveryScore:74,cycleTime:85,deployFreq:82,prSize:78},{week:"Wk 3",deliveryScore:73,cycleTime:83,deployFreq:81,prSize:80},{week:"Wk 4",deliveryScore:75,cycleTime:84,deployFreq:83,prSize:82},{week:"Wk 5",deliveryScore:76,cycleTime:85,deployFreq:84,prSize:83},{week:"Wk 6",deliveryScore:77,cycleTime:85,deployFreq:85,prSize:84},{week:"Wk 7",deliveryScore:78,cycleTime:85,deployFreq:85,prSize:85},{week:"Wk 8",deliveryScore:78,cycleTime:85,deployFreq:85,prSize:85}]},ve={developmentQualityScore:82,changeFailureRate:{percentage:3.2,score:85,totalDeploys:150,failedDeploys:5},planningAccuracy:{percentage:72,score:80,plannedSP:200,completedSP:144},netBugFlow:{value:.8,score:75,bugsCreated:25,bugsResolved:20},trends:[{week:"Wk 1",qualityScore:78,changeFailure:4,planningAcc:68,bugFlow:.9},{week:"Wk 2",qualityScore:79,changeFailure:3.8,planningAcc:70,bugFlow:.85},{week:"Wk 3",qualityScore:80,changeFailure:3.5,planningAcc:71,bugFlow:.82},{week:"Wk 4",qualityScore:81,changeFailure:3.3,planningAcc:72,bugFlow:.8},{week:"Wk 5",qualityScore:81,changeFailure:3.2,planningAcc:72,bugFlow:.8},{week:"Wk 6",qualityScore:82,changeFailure:3.2,planningAcc:72,bugFlow:.8},{week:"Wk 7",qualityScore:82,changeFailure:3.2,planningAcc:72,bugFlow:.8},{week:"Wk 8",qualityScore:82,changeFailure:3.2,planningAcc:72,bugFlow:.8}]},be={teamHealthScore:75,sprintCompletion:{percentage:88,score:85,completedSprints:22,totalSprints:25},velocity:{averageSP:45,score:80,trend:"stable",lastSprints:[42,45,47,44,46]},teamSatisfaction:{score:72,surveyResponses:18,averageRating:4.2},trends:[{week:"Wk 1",healthScore:72,completion:85,velocity:42,satisfaction:4},{week:"Wk 2",healthScore:73,completion:86,velocity:43,satisfaction:4.1},{week:"Wk 3",healthScore:74,completion:87,velocity:44,satisfaction:4.15},{week:"Wk 4",healthScore:74,completion:87,velocity:45,satisfaction:4.2},{week:"Wk 5",healthScore:75,completion:88,velocity:45,satisfaction:4.2},{week:"Wk 6",healthScore:75,completion:88,velocity:46,satisfaction:4.2},{week:"Wk 7",healthScore:75,completion:88,velocity:46,satisfaction:4.2},{week:"Wk 8",healthScore:75,completion:88,velocity:46,satisfaction:4.2}]},fe=(t,s,i)=>{const a=t*ie.CYCLE_TIME+s*ie.DEPLOY_FREQUENCY+i*ie.PR_SIZE;return Math.round(a)},kt=t=>t<=N.ELITE.max?N.ELITE.score:t>=N.GOOD.min&&t<=N.GOOD.max?N.GOOD.score:t>=N.FAIR.min&&t<=N.FAIR.max?N.FAIR.score:t>=N.NEEDS_FOCUS.min&&t<=N.NEEDS_FOCUS.max?N.NEEDS_FOCUS.score:N.POOR.score,wt=t=>t>=E.ELITE.min?E.ELITE.score:t>=E.GOOD.min&&t<E.GOOD.max?E.GOOD.score:t>=E.FAIR.min&&t<E.FAIR.max?E.FAIR.score:t>=E.NEEDS_FOCUS.min&&t<E.NEEDS_FOCUS.max?E.NEEDS_FOCUS.score:E.POOR.score,te=t=>t>=P.ELITE.min?P.ELITE:t>=P.GOOD.min&&t<=P.GOOD.max?P.GOOD:t>=P.FAIR.min&&t<=P.FAIR.max?P.FAIR:P.POOR,k=t=>te(t).color,je=t=>{if(!t||t.length===0)return null;const s=t.filter(r=>r.avg_lead_time&&r.avg_lead_time>0);if(s.length===0)return null;const a=s.reduce((r,o)=>r+(o.avg_lead_time||0),0)/s.length,n=kt(a),l={codingTime:a*.05,pickupTime:a*.05,reviewTime:a*.18,deployTime:a*.72};return{hours:Math.round(a),score:n,breakdown:l}},Se=t=>{if(!t||t.length===0)return null;const s=new Date;s.setMonth(s.getMonth()-3);const i=t.filter(o=>o.end_date?new Date(o.end_date)>=s&&o.state==="closed":!1);if(i.length===0)return null;const a=i.length*2.5,n=i.length*10,l=n>0?a/n:0,r=wt(l);return{deploysPerDay:Math.round(l*10)/10,score:r,totalDeploys:Math.round(a),workingDays:n}},At=async(t={})=>{const{projectKey:s="OBD",useMockData:i=!1}=t;if(i||!ue)return console.log("[DELIVERY_KPI] Using mock data"),A;try{if(!ue)return console.warn("[DELIVERY_KPI] Supabase no configurado, using mock data"),A;const{getSprintMetrics:a}=await Re(async()=>{const{getSprintMetrics:u}=await import("./index-zzFyhS3F.js").then(p=>p.e);return{getSprintMetrics:u}},__vite__mapDeps([0,1]));let n;try{n=await a(s,{limit:20,state:"closed"})}catch(u){return console.warn("[DELIVERY_KPI] Error obteniendo métricas de sprint:",u),A}if(!n||n.length===0)return console.warn("[DELIVERY_KPI] No sprint metrics found, using mock data"),A;const l=je(n),r=Se(n),o=A.prSize;if(!l||!r)return console.warn("[DELIVERY_KPI] Could not calculate all metrics, using mock data"),A;const d=fe(l.score,r.score,o.score),c=[],x=new Date;for(let u=7;u>=0;u--){const p=new Date(x);p.setDate(p.getDate()-u*7);const h=new Date(p);h.setDate(h.getDate()-h.getDay());const m=new Date(h);m.setDate(m.getDate()+6);const g=n.filter(y=>{if(!y.end_date)return!1;const v=new Date(y.end_date);return v>=h&&v<=m});if(g.length>0){const y=je(g),v=Se(g);if(y&&v){const w=fe(y.score,v.score,o.score);c.push({week:`Wk ${8-u}`,deliveryScore:w,cycleTime:y.score,deployFreq:v.score,prSize:o.score})}}}for(;c.length<8;){const u=A.trends[c.length]||A.trends[0];c.push(u)}return{deliverySuccessScore:d,cycleTime:l,deployFrequency:r,prSize:o,trends:c.slice(0,8)}}catch(a){return console.error("[DELIVERY_KPI] Error calculating KPIs:",a),console.log("[DELIVERY_KPI] Falling back to mock data"),A}},Dt=()=>{const[t,s]=T.useState(A),[i,a]=T.useState(!0);T.useEffect(()=>{(async()=>{try{a(!0);const x=await At();s(x)}catch(x){console.error("[DeliveryKPIs] Error loading KPI data:",x),s(A)}finally{a(!1)}})()},[]);const n=t.deliverySuccessScore,l=te(n),r=k(n),o=n>=f.DELIVERY_SUCCESS,d=n<60;return i?e.jsx("div",{className:"glass rounded-2xl p-12 text-center",children:e.jsx("p",{className:"text-slate-400 text-lg",children:"Cargando métricas de Delivery..."})}):e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"glass rounded-xl border border-rose-500/30 bg-rose-500/10 p-4 flex items-center gap-3",children:[e.jsx(V,{className:"text-rose-400",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-rose-400 font-semibold",children:"Atención Requerida"}),e.jsx("p",{className:"text-slate-300 text-sm",children:"El Delivery Success Score está por debajo de 60. Se requiere acción correctiva urgente."})]})]}),e.jsxs("div",{className:"glass rounded-2xl p-8 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Delivery Success Score"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Mide la velocidad y eficiencia de entrega de valor a producción"})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg ${o?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:e.jsxs("span",{className:"text-sm font-medium",children:["Target: ",f.DELIVERY_SUCCESS,"/100"]})})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`text-7xl font-bold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:n}),e.jsx("div",{className:"text-slate-400 text-sm mt-1",children:"/ 100"})]}),e.jsx("div",{className:"flex gap-2",children:["emerald","blue","amber","rose"].map(c=>e.jsx("div",{className:`w-4 h-4 rounded-full ${r===c?c==="emerald"?"bg-emerald-500":c==="blue"?"bg-blue-500":c==="amber"?"bg-amber-500":"bg-rose-500":"bg-slate-700"}`},c))}),e.jsxs("div",{className:"ml-auto text-right",children:[e.jsx("div",{className:"text-slate-400 text-sm",children:"Nivel"}),e.jsx("div",{className:`text-xl font-semibold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:l.label})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700/50",children:e.jsxs("p",{className:"text-slate-300 text-sm",children:[l.label==="Elite"&&"Velocidad excepcional. El equipo está operando en niveles de excelencia.",l.label==="Good"&&"Cumpliendo con el target. El equipo está entregando valor de manera eficiente.",l.label==="Fair"&&"Necesita mejora. Hay oportunidades para optimizar el proceso de entrega.",l.label==="Poor"&&"Requiere atención urgente. Se necesitan acciones correctivas inmediatas."]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Métricas Componentes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(_,{title:"Cycle Time",value:`${t.cycleTime.hours}h`,label:`Score: ${t.cycleTime.score}/100`,icon:Ne,trend:t.cycleTime.score>=75?"positive":"negative",color:k(t.cycleTime.score)}),e.jsx(_,{title:"Deploy Frequency",value:`${t.deployFrequency.deploysPerDay.toFixed(1)}/día`,label:`Score: ${t.deployFrequency.score}/100`,icon:Ce,trend:t.deployFrequency.score>=75?"positive":"negative",color:k(t.deployFrequency.score)}),e.jsx(_,{title:"PR Size",value:`${t.prSize.averageLines} líneas`,label:`Score: ${t.prSize.score}/100`,icon:Te,trend:t.prSize.score>=75?"positive":"negative",color:k(t.prSize.score)})]})]}),e.jsx("div",{className:"glass rounded-xl p-4 border border-slate-700/50",children:e.jsxs("p",{className:"text-slate-400 text-sm",children:[e.jsx("strong",{className:"text-slate-300",children:"Fórmula:"})," Delivery Success Score = (Cycle Time × 40%) + (Deploy Frequency × 30%) + (PR Size × 30%)"]})}),e.jsx("div",{className:"mt-8",children:e.jsx(St,{cycleTimeData:t.cycleTime})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[e.jsx(Nt,{trends:t.trends}),e.jsx(Et,{trends:t.trends})]})]})},Tt=()=>{const[t,s]=T.useState(ve),[i,a]=T.useState(!0);T.useEffect(()=>{a(!1),s(ve)},[]);const n=t.developmentQualityScore,l=te(n),r=k(n),o=n>=f.DEVELOPMENT_QUALITY,d=n<60;return e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"glass rounded-xl border border-rose-500/30 bg-rose-500/10 p-4 flex items-center gap-3",children:[e.jsx(V,{className:"text-rose-400",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-rose-400 font-semibold",children:"Atención Requerida"}),e.jsx("p",{className:"text-slate-300 text-sm",children:"El Development Quality Score está por debajo de 60. Se requiere acción correctiva urgente."})]})]}),e.jsxs("div",{className:"glass rounded-2xl p-8 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Development Quality Score"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Mide la calidad del desarrollo y la estabilidad de las entregas"})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg ${o?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:e.jsxs("span",{className:"text-sm font-medium",children:["Target: ",f.DEVELOPMENT_QUALITY,"/100"]})})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`text-7xl font-bold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:n}),e.jsx("div",{className:"text-slate-400 text-sm mt-1",children:"/ 100"})]}),e.jsx("div",{className:"flex gap-2",children:["emerald","blue","amber","rose"].map(c=>e.jsx("div",{className:`w-4 h-4 rounded-full ${r===c?c==="emerald"?"bg-emerald-500":c==="blue"?"bg-blue-500":c==="amber"?"bg-amber-500":"bg-rose-500":"bg-slate-700"}`},c))}),e.jsxs("div",{className:"ml-auto text-right",children:[e.jsx("div",{className:"text-slate-400 text-sm",children:"Nivel"}),e.jsx("div",{className:`text-xl font-semibold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:l.label})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700/50",children:e.jsxs("p",{className:"text-slate-300 text-sm",children:[l.label==="Elite"&&"Calidad excepcional. El equipo está entregando código de alta calidad con mínimos errores.",l.label==="Good"&&"Cumpliendo con el target. El equipo mantiene buenos estándares de calidad.",l.label==="Fair"&&"Necesita mejora. Hay oportunidades para mejorar la calidad del código y reducir errores.",l.label==="Poor"&&"Requiere atención urgente. Se necesitan acciones correctivas inmediatas para mejorar la calidad."]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Métricas Componentes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(_,{title:"Change Failure Rate",value:`${t.changeFailureRate.percentage}%`,label:`${t.changeFailureRate.failedDeploys} fallos / ${t.changeFailureRate.totalDeploys} deploys | Score: ${t.changeFailureRate.score}/100`,icon:at,trend:t.changeFailureRate.percentage<=f.CHANGE_FAILURE_RATE?"positive":"negative",color:k(t.changeFailureRate.score)}),e.jsx(_,{title:"Planning Accuracy",value:`${t.planningAccuracy.percentage}%`,label:`${t.planningAccuracy.completedSP} SP / ${t.planningAccuracy.plannedSP} planificados | Score: ${t.planningAccuracy.score}/100`,icon:et,trend:t.planningAccuracy.percentage>=f.PLANNING_ACCURACY.min?"positive":"negative",color:k(t.planningAccuracy.score)}),e.jsx(_,{title:"Net Bug Flow",value:t.netBugFlow.value.toFixed(1),label:`${t.netBugFlow.bugsResolved} resueltos / ${t.netBugFlow.bugsCreated} creados | Score: ${t.netBugFlow.score}/100`,icon:rt,trend:t.netBugFlow.value>=f.NET_BUG_FLOW?"positive":"negative",color:k(t.netBugFlow.score)})]})]}),e.jsx("div",{className:"glass rounded-xl p-4 border border-slate-700/50",children:e.jsxs("p",{className:"text-slate-400 text-sm",children:[e.jsx("strong",{className:"text-slate-300",children:"Métricas de Calidad:"}),e.jsx("br",{}),"• ",e.jsx("strong",{children:"Change Failure Rate:"})," Porcentaje de deploys que fallan en producción (target: <",f.CHANGE_FAILURE_RATE,"%)",e.jsx("br",{}),"• ",e.jsx("strong",{children:"Planning Accuracy:"})," Porcentaje de SP completados vs planificados (target: ",f.PLANNING_ACCURACY.min,"-",f.PLANNING_ACCURACY.max,"%)",e.jsx("br",{}),"• ",e.jsx("strong",{children:"Net Bug Flow:"})," Ratio de bugs resueltos vs creados (target: >",f.NET_BUG_FLOW,")"]})})]})},Ct=()=>{const[t,s]=T.useState(be),[i,a]=T.useState(!0);T.useEffect(()=>{a(!1),s(be)},[]);const n=t.teamHealthScore,l=te(n),r=k(n),o=n>=f.TEAM_HEALTH,d=n<60;return e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"glass rounded-xl border border-rose-500/30 bg-rose-500/10 p-4 flex items-center gap-3",children:[e.jsx(V,{className:"text-rose-400",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"text-rose-400 font-semibold",children:"Atención Requerida"}),e.jsx("p",{className:"text-slate-300 text-sm",children:"El Team Health Score está por debajo de 60. Se requiere atención al bienestar del equipo."})]})]}),e.jsxs("div",{className:"glass rounded-2xl p-8 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Team Health Score"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Mide la salud y bienestar del equipo de desarrollo"})]}),e.jsx("div",{className:`px-4 py-2 rounded-lg ${o?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,children:e.jsxs("span",{className:"text-sm font-medium",children:["Target: ",f.TEAM_HEALTH,"/100"]})})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`text-7xl font-bold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:n}),e.jsx("div",{className:"text-slate-400 text-sm mt-1",children:"/ 100"})]}),e.jsx("div",{className:"flex gap-2",children:["emerald","blue","amber","rose"].map(c=>e.jsx("div",{className:`w-4 h-4 rounded-full ${r===c?c==="emerald"?"bg-emerald-500":c==="blue"?"bg-blue-500":c==="amber"?"bg-amber-500":"bg-rose-500":"bg-slate-700"}`},c))}),e.jsxs("div",{className:"ml-auto text-right",children:[e.jsx("div",{className:"text-slate-400 text-sm",children:"Nivel"}),e.jsx("div",{className:`text-xl font-semibold ${r==="emerald"?"text-emerald-400":r==="blue"?"text-blue-400":r==="amber"?"text-amber-400":"text-rose-400"}`,children:l.label})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700/50",children:e.jsxs("p",{className:"text-slate-300 text-sm",children:[l.label==="Elite"&&"Salud del equipo excepcional. El equipo está funcionando de manera óptima y satisfecho.",l.label==="Good"&&"Cumpliendo con el target. El equipo está saludable y productivo.",l.label==="Fair"&&"Necesita mejora. Hay oportunidades para mejorar el bienestar y la satisfacción del equipo.",l.label==="Poor"&&"Requiere atención urgente. Se necesitan acciones inmediatas para mejorar la salud del equipo."]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Métricas Componentes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(_,{title:"Sprint Completion",value:`${t.sprintCompletion.percentage}%`,label:`Score: ${t.sprintCompletion.score}/100`,icon:tt,trend:t.sprintCompletion.percentage>=80?"positive":"negative",color:k(t.sprintCompletion.score)}),e.jsx(_,{title:"Velocity",value:`${t.velocity.averageSP} SP`,label:`Score: ${t.velocity.score}/100`,icon:Le,trend:t.velocity.trend==="increasing"?"positive":t.velocity.trend==="stable"?"neutral":"negative",color:k(t.velocity.score)}),e.jsx(_,{title:"Team Satisfaction",value:`${t.teamSatisfaction.averageRating}/5`,label:`Score: ${t.teamSatisfaction.score}/100`,icon:nt,trend:t.teamSatisfaction.averageRating>=4?"positive":"negative",color:k(t.teamSatisfaction.score)})]})]}),e.jsx("div",{className:"glass rounded-xl p-4 border border-slate-700/50",children:e.jsxs("p",{className:"text-slate-400 text-sm",children:[e.jsx("strong",{className:"text-slate-300",children:"Métricas de Salud del Equipo:"}),e.jsx("br",{}),"• ",e.jsx("strong",{children:"Sprint Completion:"})," Porcentaje de sprints completados exitosamente (target: >80%)",e.jsx("br",{}),"• ",e.jsx("strong",{children:"Velocity:"})," Promedio de Story Points completados por sprint (target: estable o creciente)",e.jsx("br",{}),"• ",e.jsx("strong",{children:"Team Satisfaction:"})," Satisfacción promedio del equipo basada en encuestas (target: >4.0/5)"]})})]})},Mt=()=>{const[t,s]=T.useState("delivery"),i=[{id:"delivery",label:"Delivery",icon:Me,component:Dt},{id:"quality",label:"Quality",icon:it,component:Tt},{id:"health",label:"Team Health",icon:st,component:Ct}],a=i.find(l=>l.id===t),n=a==null?void 0:a.component;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-4 border-b border-slate-700/50 pb-4",children:i.map(l=>{const r=l.icon,o=t===l.id;return e.jsxs("button",{onClick:()=>s(l.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 text-cyan-400 border border-cyan-500/30":"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:[e.jsx(r,{size:20}),e.jsx("span",{className:"font-medium",children:l.label})]},l.id)})}),e.jsx("div",{className:"mt-6",children:n?e.jsx(n,{}):e.jsxs("div",{className:"glass rounded-2xl p-12 text-center",children:[e.jsxs("p",{className:"text-slate-400 text-lg",children:[a==null?void 0:a.label," KPIs - Coming Soon"]}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Esta sección está en desarrollo"})]})})]})};export{Mt as default};
